"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6485],{6485:(A,p,o)=>{o.r(p),o.d(p,{ReturnModule:()=>R});var l=o(3071),e=o(6738),g=o(7827),d=o(6895),s=o(4006);let c=(()=>{class u{transform(t){switch(t){case 0:return"\u041d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0438";case 1:return"\u041d\u0435 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u0430";case 2:return"\u0427\u0430\u0441\u0442\u0438\u0447\u043d\u043e \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u0430";case 3:return"\u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u0430";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"}}}return u.\u0275fac=function(t){return new(t||u)},u.\u0275pipe=e.Yjl({name:"appReturnState",type:u,pure:!0}),u})();function m(u,r){if(1&u&&(e.TgZ(0,"tr",13)(1,"td",14)(2,"p",15),e._uU(3),e.qZA(),e.TgZ(4,"p",16),e._uU(5," \u0421\u0442\u0430\u0442\u0443\u0441: "),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"appReturnState"),e.qZA()(),e.TgZ(9,"p",16),e._uU(10," \u0426\u0435\u043d\u0430 \u0437\u0430 1 \u0448\u0442.: "),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"currency"),e.qZA()(),e.TgZ(14,"p",16),e._uU(15," \u0412 \u0437\u0430\u043a\u0430\u0437\u0435: "),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"p",16),e._uU(19," \u041d\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442: "),e.TgZ(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"p",16),e._uU(23," \u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u043e: "),e.TgZ(24,"span"),e._uU(25),e.qZA()(),e.TgZ(26,"p",17),e._uU(27,"\u0418\u0442\u043e\u0433\u043e: "),e.TgZ(28,"span"),e._uU(29),e.ALo(30,"currency"),e.qZA()()()()),2&u){const t=r.$implicit,n=e.oxw().$implicit;e.ekj("show",n.open),e.xp6(3),e.Oqu(t.goods),e.xp6(4),e.Oqu(e.lcZ(8,9,t.state)),e.xp6(5),e.Oqu(e.Dn7(13,11,t.price,void 0,"\u0420")),e.xp6(5),e.hij("",t.count," \u0448\u0442."),e.xp6(4),e.hij("",t.count2," \u0448\u0442."),e.xp6(4),e.hij("",t.count3," \u0448\u0442."),e.xp6(4),e.hij(" ",e.Dn7(30,15,t.sum,void 0,"\u0420"),"")}}function Z(u,r){if(1&u){const t=e.EpF();e.TgZ(0,"tr",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.toggle(a.number))}),e.TgZ(1,"td"),e.O4$(),e.TgZ(2,"svg",10),e._UZ(3,"path",11),e.qZA()(),e.kcU(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"currency"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"appReturnState"),e.qZA()(),e.YNc(17,m,31,19,"tr",12)}if(2&u){const t=r.$implicit;e.ekj("active",t.open),e.xp6(5),e.Oqu(t.number),e.xp6(2),e.Oqu(e.Dn7(8,8,t.sum,void 0,"\u0420")),e.xp6(3),e.Oqu(e.xi3(11,12,t.date,"d MMM y")),e.xp6(3),e.Oqu(t.department),e.xp6(2),e.Oqu(e.lcZ(16,15,t.state)),e.xp6(2),e.Q6J("ngForOf",null==t?null:t.returnInfo)}}const h=[{path:"",component:(()=>{class u{constructor(t){this.api=t}ngOnInit(){this.loadReturns()}toggle(t){const n=this.returns.find(i=>i.number===t);n.open?n.open=!1:(n.open=!0,n.returnInfo||this.loadOrderInfo(n.date,t))}dateRangeChanged(){this.dateTo&&this.dateFrom&&this.isDateRangeValid()&&this.loadOrdersByDateRange()}loadReturns(){this.api.getReturns().subscribe(t=>{t&&(this.returns=t)})}loadOrdersByDateRange(){this.api.getReturns({from:this.dateFrom,to:this.dateTo}).subscribe(n=>{n&&(this.returns=n)})}loadOrderInfo(t,n){this.api.getReturnInfo(t,n).subscribe(i=>{this.returns.find(a=>a.number===n).returnInfo=i})}isDateRangeValid(){return new Date(this.dateFrom).getTime()<=new Date(this.dateTo).getTime()}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(g.s))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-return-page"]],decls:27,vars:9,consts:[[1,"perconal-data__inner","--white"],[1,"perconal-data-filters"],[1,"perconal-data-filter"],[1,"perconal-data__inputs"],["type","date","id","from","name","from",3,"ngModel","ngModelChange"],["type","date","id","to","name","to",3,"ngModel","ngModelChange"],[1,"text-content"],[1,"table-large"],["ngFor","",3,"ngForOf"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","192","height","320","viewBox","0 0 192 320","fill","none"],["d","M0 19.4L20.7 0L192 160L20.7 320L0 300.7L150.5 160L0 19.4Z","fill","#ed553b"],["class","hidden-row",3,"show",4,"ngFor","ngForOf"],[1,"hidden-row"],["colspan","6"],[1,"title"],[1,"descr"],[1,"price-number"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434:"),e.qZA(),e.TgZ(5,"div",3)(6,"input",4),e.NdJ("ngModelChange",function(a){return n.dateFrom=a,n.dateRangeChanged()}),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"input",5),e.NdJ("ngModelChange",function(a){return n.dateTo=a,n.dateRangeChanged()}),e.ALo(9,"date"),e.qZA()()()(),e.TgZ(10,"div",6)(11,"table",7)(12,"thead")(13,"tr"),e._UZ(14,"th"),e.TgZ(15,"th"),e._uU(16,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"\u0421\u0443\u043c\u043c\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,Z,18,17,"ng-template",8),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",e.xi3(7,3,n.dateFrom,"yyyy-MM-dd")),e.xp6(2),e.Q6J("ngModel",e.xi3(9,6,n.dateTo,"yyyy-MM-dd")),e.xp6(18),e.Q6J("ngForOf",n.returns))},dependencies:[d.sg,s.Fj,s.JJ,s.On,d.H9,d.uU,c]}),u})()}];let f=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[l.Bz.forChild(h),l.Bz]}),u})();var T=o(1779);let R=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[d.ez,T.m,f]}),u})()}}]);